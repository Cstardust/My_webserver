# My_webserver 1.0版本 2022.2（一定会有2.0的！）

## 学习自 游双《Linux高性能服务器编程》

## 功能
- 智齿http协议、接收get请求，返回相应图片、视频。（主线程负责监听连接，业务线程负责解析请求报文，生成响应报文）
- 注册功能：待实现。。。。

## 主要工作
- 主线程用EPOLL技术实现IO多路复用。监测读socket、写socket事件
- 处理模式：同步IO模拟Proactor模式
- 使用有限状态机解析HTTP请求报文，可以解析GET 请求 //  和POST请求。
- 多线程，增加并发服务数量。


## 难点
- 实现线程池，提高吞吐量
  - 信号量实现对任务的互斥，互斥锁实现线程同步。
- 主从状态机对HTTP报文进行解析
- 链表实现定时器，处理不活跃连接。（服务器程序处理IO事件、信号和定时事件，统一事件源，是指将信号事件与其他事件一样被处理。）

## 未解决问题
- 实现时间堆（使用`priority_queue`作为堆）时，可以立刻删除堆顶，也可延迟删除任意节点，但无法修改节点时维持堆顺序。
  - 解决方法：或许应该手写堆，这样就可以做到任意的修改节点。
- 对监听socket采用ET模式，会发生只能接受一个连接的现象。
  - 原因：没研究出来

## 收获
- 入门Linux网络编程、Linux系统编程。
- 加深了对TCP三次握手四次挥手的理解
- 了解了http协议
- 对Web服务器服务过程有基本了解

## 下一步目标
- vector<char>实现缓冲区动态增长
- 日志IO
- 正则表达式解析报文
- 加入数据库功能
